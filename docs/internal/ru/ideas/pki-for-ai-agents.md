# Идея: PKI для AI — использование и тестирование (будущее)

Перспективная идея: использовать инфраструктуру доверия Aletheia (подпись, временные метки, офлайн-верификация) для **автономных AI-агентов**, а не только для «ответа одной модели». Документ описывает сценарий PoC на базе агента OpenClaw и расширяет его примерами других агентов и экосистемы MCP.

**Статус:** идея, не входит в текущий roadmap.  
**Связанные документы:** [Видение и дорожная карта](../VISION_AND_ROADMAP.md) · [Модель доверия](../TRUST_MODEL.md) · [PoC](../PoC.md).

---

## Содержание

- [Что такое OpenClaw](#что-такое-openclaw)
- [Почему OpenClaw подходит для PoC Aletheia PKI](#почему-openclaw-подходит-для-poc-aletheia-pki)
- [Архитектура: OpenClaw и Aletheia](#архитектура-openclaw-и-aletheia)
- [Конкретные сценарии PoC](#конкретные-сценарии-poc)
- [Риски и как их обыгрывать](#риски-и-как-их-обыгрывать)
- [Другие агенты и MCP: верификация и сертификация с нашей PKI](#другие-агенты-и-mcp-верификация-и-сертификация-с-нашей-pki)
- [Краткий pitch](#краткий-pitch)

---

## Что такое OpenClaw

**OpenClaw** — открытый open-source AI-ассистент, который запускается на собственном компьютере или сервере и управляется через привычные чат-приложения (WhatsApp, Telegram, Discord, Slack и др.). Он не только «отвечает на вопросы», но и выполняет реальные действия: автоматизирует задачи, запускает команды, управляет файлами, браузером, почтой и интегрируется с разными сервисами.

### Основные особенности

| Аспект | Описание |
|--------|----------|
| **Локальный запуск** | Работает на своей машине или VPS; данные остаются под контролем пользователя. |
| **Много каналов** | Взаимодействие через мессенджеры, как с коллегой-ассистентом. |
| **Автоматизация** | Shell-команды, браузер, файлы, пользовательские скрипты. |
| **Расширяемость** | Плагины/скиллы: готовые и собственные. |
| **Память и контекст** | Запоминает настройки и контекст между сессиями. |

OpenClaw получил широкую известность как ранний пример **автономного личного агента**, который действительно выполняет задачи (а не только генерирует текст). Проект набирает тысячи звёзд на GitHub; его можно запускать дома или на сервере, без полной зависимости от облака крупного поставщика.

### Плюсы и минусы по отзывам

**Плюсы:** может создавать навыки/интеграции по общему указанию; помогает автоматизировать повседневные задачи.  
**Минусы:** требует технических навыков для настройки; может быть дорогим при активном использовании облачных LLM API; риски безопасности при широком доступе к системе; в части сценариев скорость и надёжность оцениваются неоднозначно.

**Коротко:** OpenClaw — не просто чат-бот, а **AI-агент на своей инфраструктуре**, активируемый через чат, с возможностью выполнять команды, автоматизировать задачи и расширяться за счёт плагинов.

---

## Почему OpenClaw подходит для PoC Aletheia PKI

Идея Aletheia — доверие, проверяемость, подписи, таймстемпы, офлайн-верификация. OpenClaw может играть роль **«AI-агента с паспортом»**.

1. **OpenClaw — исполняющий агент.** Он не просто LLM, а агент, который принимает решения, выполняет действия, вызывает скрипты и API и живёт на твоей инфраструктуре. Это удобный объект для обвязки PKI.

2. **Локальность и контроль.** Ключи и подписи можно держать рядом с агентом; не нужно доверять облачному провайдеру саму криптографию.

3. **Цепочка доверия.** Aletheia даёт идентичность, время, подпись и proof bundle; OpenClaw — производителя верифицируемых действий.

---

## Архитектура: OpenClaw и Aletheia

Роли в PoC:

| Компонент | Роль |
|-----------|------|
| **OpenClaw** | AI Agent; подписант действий; источник verifiable claims. |
| **Aletheia** | Identity; Time (RFC 3161); Signature; Proof bundle. |

То есть: агент выполняет действие → результат канонизируется и подписывается ключом, привязанным к Aletheia (или выпущенным через нашу PKI) → добавляется RFC 3161 timestamp → формируется пакет доказательства.

---

## Конкретные сценарии PoC

### 1. «Подписанное действие AI» (Signed AI Action)

OpenClaw выполняет действие (анализ текста, генерация ответа и т.п.) и:

1. Генерирует результат.
2. Канонизирует вывод (canonicalize).
3. Подписывает результат через ключ Aletheia.
4. Добавляет RFC 3161 timestamp.
5. Возвращает, например:

```json
{
  "output": "...",
  "signature": "...",
  "timestamp": "...",
  "agent_id": "openclaw-001"
}
```

**Итог:** офлайн-верифицируемый вывод AI. Сильный демо-сценарий.

### 2. Идентичность агента (AI Passport)

Каждому инстансу OpenClaw:

- Выдаётся X.509 сертификат.
- Issuer = Aletheia Root (или наш CA).
- Purpose = AI Agent.

Можно наглядно показать: отозванный агент ❌, просроченный ❌, действующий ✅. Это PKI, понятная бизнесу и регуляторам.

### 3. Chain of Thought ≠ Proof of Action

Внутри OpenClaw может «думать» как угодно; наружу отдаётся только подписанный **Action Proof**. Так мы показываем **AI accountability без раскрытия внутренней цепочки рассуждений**.

### 4. Демо офлайн-верификатора

Сценарий: OpenClaw работает online; проверка результата — **полностью offline** (сертификат, CRL/OCSP snapshot, timestamp, подпись). Такая возможность редко встречается в AI-проектах и может быть сильным отличительным признаком.

---

## Риски и как их обыгрывать

| Риск | Ответ в рамках PoC |
|------|---------------------|
| OpenClaw нестабилен / сырой | Для PoC это плюс: показываем, что «даже с нестабильным агентом мы гарантируем доверие и проверяемость». |
| Безопасность | Подчёркиваем: sandboxed agent, ограниченные права, доверие на основе сертификатов. |

---

## Другие агенты и MCP: верификация и сертификация с нашей PKI

Идея PKI для AI не ограничивается OpenClaw. Ниже — **конкретные примеры** агентов и протоколов, которые могут участвовать в верификации или сертификации с инфраструктурой Aletheia, в том числе в экосистеме **Model Context Protocol (MCP)**.

### MCP как среда для доверия

**Model Context Protocol (MCP)** — открытый стандарт подключения AI-приложений к внешним данным и инструментам («USB-C для AI»). Агенты, поддерживающие MCP, могут вызывать общие инструменты и серверы; естественное место для вставки **верификации подписей** и **проверки сертификатов** Aletheia.

### Примеры агентов и компонентов

#### 1. OpenClaw (исполняющий агент)

- **Роль в PKI:** «Подписант» действий; владелец сертификата AI Agent.
- **Сценарий:** Действие → canonicalize → sign (ключ Aletheia) → timestamp → proof bundle. Верификатор (любой из ниже) может проверять подпись и время офлайн.

#### 2. Cursor (IDE с MCP)

- **Роль:** Агент-верификатор или потребитель подписанных артефактов.
- **Конкретный пример:** В Cursor подключён MCP-сервер «Aletheia Verify»: инструмент `verify_evidence_bundle(path)` принимает Evidence Package (.aep) или response.json, локально проверяет подпись, цепочку сертификатов и RFC 3161 timestamp и возвращает результат (valid/invalid + детали). Разработчик видит в чате: «Этот ответ ИИ подписан и верифицирован Aletheia».

#### 3. Claude Desktop / Claude Code (Anthropic, MCP)

- **Роль:** Агент, который либо подписывает свои выводы через Aletheia, либо проверяет чужие.
- **Конкретный пример:** MCP-инструмент `aletheia_sign_response(canonical_response)` — Claude вызывает наш backend (или локальный signer), получает подпись и timestamp, прикладывает к ответу. Или `aletheia_verify(bundle)` — проверка без нашего сервера по публичным ключам и CRL/OCSP.

#### 4. MCP-I (MCP-Identity) и Verification Protocol

- **Что это:** Расширение экосистемы MCP, ориентированное на идентичность и верификацию: decentralized identifiers (DIDs), verifiable credentials, challenge-response для проверки владения ключом.
- **Связь с Aletheia PKI:** Наша PKI может выступать **источником идентичности** для MCP-агентов: мы выпускаем сертификаты (X.509 или совместимые с VC), а MCP-I Verification Protocol использует их для криптографической проверки «кто этот агент» и «имеет ли право подписывать». Конкретно: агент предъявляет сертификат Aletheia; верификатор проверяет цепочку до Aletheia Root и статус (CRL/OCSP).

#### 5. OpenAI Codex / агенты на OpenAI с MCP

- **Роль:** Исполняющие агенты с MCP (Hosted MCP tools, Streamable HTTP, Stdio). Могут быть «подписантами» или вызывать верификацию.
- **Конкретный пример:** Агент после генерации кода или отчёта вызывает MCP-инструмент Aletheia (например, `sign_and_timestamp(payload)`), получает proof bundle и прикладывает его к результату для аудита.

#### 6. MCP-серверы как держатели идентичности

- **Примеры:** Stripe MCP, другие публичные MCP-серверы (базы данных, API).
- **Роль в PKI:** Сервер может иметь **сертификат агента** Aletheia: запросы от «Stripe MCP» к критичным системам сопровождаются подписью, проверяемой через нашу PKI. Так мы сертифицируем не только «человеческого» агента, но и инструмент/сервис в MCP-сети.

#### 7. Верификаторы и бенчмарки в экосистеме MCP

- **MCPMark:** бенчмарк для оценки агентов по реалистичным MCP-задачам с программной верификацией. Можно добавить **дополнительный критерий:** «результат агента должен быть подписан Aletheia и проходить офлайн-верификацию» — тогда доверие к результату измеримо и воспроизводимо.
- **CoSAI (Coalition for Secure AI):** рекомендации по безопасности MCP (идентичность, доступ, инъекции и т.д.). Aletheia PKI вписывается в «identity and access controls»: сертификаты агентов и подписанные действия дают явную модель «кто что сделал».

### Сводная таблица: кто что делает с нашей PKI

| Агент / компонент | Роль | Конкретный пример с Aletheia PKI |
|-------------------|------|-----------------------------------|
| **OpenClaw** | Исполняющий агент, подписант | Действие → подпись + timestamp → proof bundle; сертификат AI Agent от Aletheia. |
| **Cursor** | Верификатор (через MCP) | MCP-инструмент `verify_evidence_bundle` — офлайн-проверка подписи и времени. |
| **Claude Desktop / Claude Code** | Подписант или верификатор | MCP `aletheia_sign_response` / `aletheia_verify`; ответы с proof bundle. |
| **OpenAI Codex / агенты с MCP** | Подписант | MCP-вызов `sign_and_timestamp` после генерации артефакта. |
| **MCP-I Verification Protocol** | Стандарт верификации идентичности | Наши сертификаты — источник идентичности; проверка цепочки и статуса в MCP-I. |
| **MCP-серверы (напр. Stripe MCP)** | Держатели идентичности | Сертификат агента Aletheia для подписи запросов к критичным системам. |
| **MCPMark / CoSAI** | Бенчмарки и безопасность | Критерий «подписанный Aletheia результат»; alignment с identity/access controls. |

Эти примеры показывают, что **одна и та же PKI Aletheia** может использоваться и для «подписанта» (OpenClaw, Claude, Codex), и для «верификатора» (Cursor, любой MCP-клиент с инструментом verify), и для стандартов идентичности (MCP-I), и для измеримого доверия (MCPMark, CoSAI).

---

## Краткий pitch

> Мы используем автономного AI-агента (например, OpenClaw). Aletheia даёт криптографическую идентичность, подпись и временные метки действиям агента. В результате получается **верифицируемое, офлайн-проверяемое доказательство** того, что конкретный AI-агент произвёл конкретный вывод в конкретный момент времени.

Такой сценарий сильно звучит для сообщества PKI, регуляторов (в т.ч. EU), специалистов по безопасности и инвесторов.

**Сравнение с «просто LLM API»:**

| Критерий | OpenClaw + Aletheia | Облачный LLM |
|----------|---------------------|--------------|
| Контроль | ✅ полный | ❌ |
| Локальные ключи | ✅ | ❌ |
| Идентичность агента | ✅ | ❌ |
| PKI-интеграция | ✅ естественно | ❌ |
| История для EU / compliance | ✅ | ❌ |

---

## Следующие шаги (при реализации идеи)

- Спроектировать поток интеграции OpenClaw ↔ Aletheia (или другой агент ↔ Aletheia).
- Добавить архитектурную Mermaid-диаграмму: агент → canonicalize → sign → timestamp → proof bundle → верификатор.
- Определить один killer demo-сценарий на 5 минут презентации (например: «подписанное действие в мессенджере → офлайн-проверка на ноутбуке аудитора»).
- Реализовать MCP-инструменты `aletheia_verify` и при необходимости `aletheia_sign` для Cursor / Claude / других MCP-клиентов.

---

*Часть раздела [Будущие идеи](README.md). Документация Aletheia AI: [индекс](../../README.md), [Видение и дорожная карта](../VISION_AND_ROADMAP.md). Другие языки: [ET](../et/ideas/PKI_FOR_AI_AGENTS.md).*
