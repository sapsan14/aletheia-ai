spring.application.name=aletheia-backend

# H2 in-memory for local run (override with PostgreSQL via env when needed)
spring.datasource.url=${SPRING_DATASOURCE_URL:jdbc:h2:mem:aletheia}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME:sa}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD:}
spring.h2.console.enabled=true
# Dialect: H2 (default) or PostgreSQL when using Postgres. Set via env when needed.
spring.jpa.database-platform=${SPRING_JPA_DATABASE_PLATFORM:org.hibernate.dialect.H2Dialect}
# Flyway owns schema; do not let Hibernate auto-create tables
spring.jpa.hibernate.ddl-auto=none

# Signing key PEM path (required for /ask and signing). Generate: openssl genpkey -algorithm RSA -out ai.key -pkeyopt rsa_keygen_bits:2048
# Set via env: AI_ALETHEIA_SIGNING_KEY_PATH
ai.aletheia.signing.key-path=${AI_ALETHEIA_SIGNING_KEY_PATH:}

# TSA (Time-Stamp Authority): mock (deterministic, no network) or real (HTTP to external TSA)
# mode=mock → MockTsaServiceImpl. mode=real → RealTsaServiceImpl (requires ai.aletheia.tsa.url)
ai.aletheia.tsa.mode=${AI_ALETHEIA_TSA_MODE:mock}
ai.aletheia.tsa.url=${AI_ALETHEIA_TSA_URL:}
